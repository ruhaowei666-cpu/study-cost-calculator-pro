# 💰 留学生成本计算器

一个帮助留学生和家长计算一年现金流、识别资金紧张月份、判断是否需要父母支持的实用工具。

## 🎯 软件目标

- **计算一年现金流**：根据用户输入，计算12个月的收入、支出和余额
- **识别危险月份**：自动找出资金最紧张的月份
- **判断资金需求**：如果余额为负，计算需要父母补钱的金额
- **可视化展示**：通过表格和折线图直观展示现金流趋势
- **导出报告**：生成PDF报告便于保存和分享

## ✨ 功能特点

### 1. 用户输入
- **城市选择**：里斯本 / 波尔图 / 其他（自动匹配生活成本）
- **房租类型**：单间 / 合租 / 宿舍
- **打工信息**：是否打工、每周工作小时数
- **财务信息**：初始存款、学费总额、学费支付方式（一次性/分期）

### 2. 系统计算
- **月收入** = 是否打工 × 每周工作小时 × 平均小时工资（8€/小时）
- **月支出** = 房租 + 生活费 + 学费分摊
- **月余额** = 初始存款 + 累计月收入 - 累计月支出
- **危险月份识别**：找出余额最低的月份
- **补钱计算**：如果余额 < 0，计算需要补钱的总额

### 3. 输出结果
- **12个月现金流表格**：详细展示每月收入、支出、余额
- **折线图**：可视化展示现金流趋势，标注零线
- **文本提示**：危险月份提醒和补钱建议
- **PDF报告导出**：包含所有信息的完整报告

## 🚀 快速开始

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行应用

```bash
streamlit run app.py
```

应用会在浏览器中自动打开（通常是 `http://localhost:8501`）

## 📋 使用示例

### 示例1：有打工收入的学生

**输入：**
- 城市：里斯本
- 房租类型：合租
- 是否打工：是
- 每周工作小时：15小时
- 初始存款：5000€
- 学费总额：5000€
- 学费支付方式：分期

**预期结果：**
- 月收入：约519.6€（15小时/周 × 4.33周 × 8€/小时）
- 月基础支出：550€（房租250€ + 生活费300€）
- 学费分摊：500€/月（分10个月）
- 总月支出：1050€
- 月净现金流：-530.4€（需要父母支持）

### 示例2：无打工收入的学生

**输入：**
- 城市：波尔图
- 房租类型：宿舍
- 是否打工：否
- 初始存款：10000€
- 学费总额：6000€
- 学费支付方式：一次性

**预期结果：**
- 月收入：0€
- 月基础支出：580€（房租280€ + 生活费300€）
- 9月一次性支付学费：6000€
- 需要足够的初始存款来覆盖全年支出

## 🏗️ 项目结构

```
留学成本软件/
├── app.py              # Streamlit主界面
├── calculator.py       # 核心计算逻辑
├── pdf_generator.py    # PDF报告生成
├── requirements.txt    # 依赖包列表
└── README.md          # 项目说明文档
```

## 🔧 技术栈

- **Python 3.8+**：核心编程语言
- **Streamlit**：Web界面框架
- **Pandas**：数据处理和分析
- **Plotly**：交互式图表可视化
- **FPDF2 / ReportLab**：PDF报告生成

## 📊 设计思路

### 1. 模块化设计
- **calculator.py**：纯计算逻辑，不依赖UI，便于测试和复用
- **app.py**：UI层，负责用户交互和结果展示
- **pdf_generator.py**：报告生成，独立模块便于扩展

### 2. 数据驱动
- 城市生活成本数据存储在类常量中，便于更新和维护
- 使用DataFrame统一数据结构，便于处理和可视化

### 3. 用户体验
- 简洁的表单界面，只需填写必要信息
- 实时计算，一键查看结果
- 可视化图表，直观展示趋势
- PDF导出，便于保存和分享

## 🔮 未来迭代建议

### MVP阶段（当前）
- ✅ 核心计算功能
- ✅ 基础可视化
- ✅ PDF导出

### 未来扩展
1. **更多城市数据**
   - 扩展城市数据库（马德里、巴塞罗那、巴黎等）
   - 支持用户自定义城市和成本

2. **更灵活的配置**
   - 可调整小时工资
   - 可自定义生活费项目（食物、交通、娱乐等）
   - 支持多币种（欧元、美元、人民币等）

3. **数据更新**
   - 连接实时汇率API
   - 定期更新生活成本数据
   - 支持历史数据对比

4. **增强功能**
   - 多场景对比（不同城市、不同住宿类型）
   - 预算优化建议
   - 储蓄目标设置
   - 数据导入导出（Excel/CSV）

5. **用户体验优化**
   - 多语言支持（中文、英文、葡萄牙语）
   - 移动端适配
   - 数据保存和加载
   - 分享功能

## 📝 部署建议

### 本地部署
```bash
# 1. 克隆或下载项目
# 2. 安装依赖
pip install -r requirements.txt
# 3. 运行应用
streamlit run app.py
```

### Streamlit Cloud部署（免费）
1. 将代码推送到GitHub仓库
2. 访问 [streamlit.io](https://streamlit.io)
3. 连接GitHub仓库
4. 一键部署

### 其他部署选项
- **Heroku**：支持Python应用
- **Railway**：简单易用的部署平台
- **Docker**：容器化部署

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📄 许可证

MIT License

## 💡 注意事项

1. **数据准确性**：当前使用的城市生活成本数据为示例数据，实际使用时需要根据最新市场数据更新
2. **汇率**：如果涉及多币种，需要集成实时汇率API
3. **法律合规**：不同国家对留学生打工有不同规定，请确保符合当地法律
4. **数据隐私**：所有计算在本地完成，不会上传任何数据到服务器

## 📞 联系方式

如有问题或建议，欢迎通过GitHub Issues联系。



